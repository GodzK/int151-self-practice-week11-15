<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem 5: Autosave</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        textarea { width: 100%; height: 150px; padding: 10px; font-size: 16px; }
        #lastSaved { color: gray; font-size: 0.9em; margin-top: 10px; transition: color 0.3s;}
        .saving { color: orange !important; }
    </style>
</head>
<body>

    <!-- 
        โจทย์ข้อที่ 5: Autosave Draft System
        ----------------------------------
        วัตถุประสงค์: เรียนรู้เรื่อง Debouncing (Performance optimization)
        เงื่อนไข: บันทึกเมื่อ "หยุดพิมพ์" ไปแล้ว 1 วินาที
    -->

    <h2>5. Autosave Draft (Debounce Logic)</h2>
    
    <p>Type something below. It will save 1 second after you stop typing.</p>
    <textarea id="editor" placeholder="Start typing your draft..."></textarea>
    <p id="lastSaved">Waiting for input...</p>

    <script>
        /**
         * SOLUTION
         * Debounce Pattern: การหน่วงเวลาการทำงาน
         * ถ้ามีการเรียกฟังก์ชันซ้ำๆ (เช่น การพิมพ์) เราจะยกเลิกตัวนับเวลาเก่า (clearTimeout)
         * แล้วเริ่มนับ 1 วินาทีใหม่เสมอ จนกว่าผู้ใช้จะหยุดพิมพ์จริงๆ
         */

        const editor = document.getElementById('editor');
        const lastSavedDisplay = document.getElementById('lastSaved');
        
        // ตัวแปรเก็บ ID ของ Timeout
        let timeoutId;

        function saveDraft() {
        }

        editor.addEventListener('input', () => {

        });

    </script>
</body>
</html>